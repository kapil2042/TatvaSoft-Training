@model CI_Platform.Models.Admin
@{
    ViewData["Title"] = "UpdateProfile";
    Layout = "~/Views/Shared/_Admin_Layout.cshtml";
}

<script src="~/js/match_pass.js"></script>
<script src="~/js/password_hide_show.js"></script>

<div class="w-100">
    <div class="border rounded-1">
        <div class="px-3 py-2 fs-3 border-bottom bg-light">
            Edit
        </div>
        <div class="p-3">
            <form method="post">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <input type="hidden" asp-for="AdminId" />
                <div class="form-group mb-3">
                    <label asp-for="FisrtName" class="form-label text-muted"></label>
                    <input asp-for="FisrtName" class="form-control" />
                    <span asp-validation-for="FisrtName" class="text-ci-danger fs-7"></span>
                </div>
                <div class="form-group mb-3">
                    <label asp-for="LastName" class="form-label text-muted"></label>
                    <input asp-for="LastName" class="form-control" />
                    <span asp-validation-for="LastName" class="text-ci-danger fs-7"></span>
                </div>
                <div class="form-group mb-3">
                    <label asp-for="Email" class="form-label text-muted"></label>
                    <input asp-for="Email" class="form-control bg-transparent" readonly />
                    <span asp-validation-for="Email" class="text-ci-danger fs-7"></span>
                </div>
                <div class="form-group mb-3">
                    <label asp-for="Password" class="form-label text-muted"></label>
                    <input type="text" class="form-control mb-3 bg-transparent" value="XXXXXXXX" readonly />
                    <a class="text-ci-danger" data-bs-toggle="modal" data-bs-target="#changePassword">Change Password</a>
                </div>
                <div class="form-group text-end">
                    <a role="button" class="btn-ci-secondary" asp-action="Index" asp-controller="Admin" asp-area="Admin">Cancel</a>
                    <input type="submit" value="Update" class="open-loader btn-ci-primary" />
                </div>
            </form>
        </div>
    </div>
</div>


<!-- Change Password Modal -->
<div class="modal fade" id="changePassword" tabindex="-1" aria-labelledby="changePasswordLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form method="post" asp-action="ChangePassword" asp-controller="Admin" asp-area="Admin">
                <div class="modal-header border-0">
                    <h1 class="modal-title fs-5" id="changePasswordLabel">
                        Change Password
                    </h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" value="@Model.AdminId" name="adminId" />
                    <div>
                        <input type="password" name="oldPass" class="form-control fs-7" placeholder="Enter Old Password" required />
                    </div>
                    <div class="mt-3 position-relative">
                        <input type="password" name="newPass" class="form-control" id="new-pass"
                               placeholder="Enter New Password" required>
                        <span onclick="showPass('new-pass')">
                            <img src="~/images/eye_open.png" alt="eye" class="eye" id="eye-open">
                            <hr class="eye_close visually-hidden" id="eye_close-new-pass" />
                        </span>
                    </div>
                    <div id="pass-limit-error" class="mt-2"></div>
                    <div class="position-relative mt-3">
                        <input type="password" name="cnfPass" class="form-control" id="cnf-pass"
                               placeholder="Enter Confirm Password" required>
                        <span onclick="showPass('cnf-pass')">
                            <img src="~/images/eye_open.png" alt="eye" class="eye" id="eye-open">
                            <hr class="eye_close visually-hidden" id="eye_close-cnf-pass" />
                        </span>
                    </div>
                    <div id="pass-error" class="mt-2"></div>
                </div>
                <div class="modal-footer border-0">
                    <button type="reset" class="btn-ci-secondary" data-bs-dismiss="modal">
                        Cancel
                    </button>
                    <button type="submit" id="regi" class="btn-ci-primary">
                        Change Password
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>